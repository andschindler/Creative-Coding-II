<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.x/dist/aframe-environment-component.min.js"></script>
  </head>

  <body>
    <a-scene>
      <a-assets>
        <a-asset-item
          id="guitar"
          src="https://cdn.glitch.global/dac312c4-5145-47d4-8a18-3684e2763a69/generic_electronic_guitar.glb?v=1750723479382"
        ></a-asset-item>
        <a-asset-item
          id="piano"
          src="https://cdn.glitch.global/dac312c4-5145-47d4-8a18-3684e2763a69/piano.glb?v=1750722921083"
        ></a-asset-item>
        <a-asset-item
          id="drums"
          src="https://cdn.glitch.global/dac312c4-5145-47d4-8a18-3684e2763a69/drums.glb?v=1750725752915"
        ></a-asset-item>

           <!-- Sound assets -->
        <audio id="sound-drums" src="https://cdn.glitch.global/dac312c4-5145-47d4-8a18-3684e2763a69/hihat.wav?v=1750759418653"></audio>
      </a-assets>

      <a-gltf-model
        src="#piano"
        position="4 0.8 -2"
        scale="0.9 0.9 0.9"
        rotation="0 10 10"
        animation__float="property: object3D.position.y; to: 0.5; dir: alternate; dur: 2000; loop: true"
                class="interactive"

      ></a-gltf-model>

      <a-gltf-model
        src="#drums"
        position="-2 1.2 -2"
        scale="0.9 0.9 0.9"
        rotation="0 20 0"
        animation__float="property: object3D.position.y; to: 1; dir: alternate; dur: 5000; loop: true"
                class="interactive"


      ></a-gltf-model>

      <a-gltf-model
        src="#guitar"
        position="0 0 -10"
        scale="0.7 0.7 0.7"
        rotation="0 0 0"
        animation__float="property: object3D.position.y; to: 0.4; dir: alternate; dur: 2000; loop: true"
                class="interactive"

      >
      </a-gltf-model>

      <a-light type="ambient" color="#FFF"></a-light>
      <a-camera position="0 1.6 0" cursor="fuse: false; rayOrigin: mouse"></a-camera>


        <script>
        // Funktion, um den Sound zu starten oder zu stoppen
        function toggleSound(modelId, soundId) {
          const model = document.querySelector(modelId);
          const sound = document.querySelector(soundId);

          if (sound.isPlaying) {
            sound.pause(); // Stoppe den Sound, wenn er l채uft
            sound.currentTime = 0; // Setze den Sound zur체ck auf den Anfang
          } else {
            sound.play(); // Starte den Sound
            sound.loop = true; // Setze den Sound auf Loop
          }
        }

        // F체ge EventListener f체r Klicks auf die Modelle hinzu
        document.querySelectorAll('.interactive').forEach((model) => {
          model.addEventListener('click', (e) => {
            const modelId = `#${e.target.id}`;
            const soundId = `#sound-${e.target.id}`;
            toggleSound(modelId, soundId);
          });
        });
      </script>
    </a-scene>
  </body>
</html>